@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer base {
  :root {
    --background: 40 30% 95%;
    --foreground: 30 20% 15%;
    --card: 40 25% 92%;
    --card-foreground: 30 20% 15%;
    --popover: 40 30% 95%;
    --popover-foreground: 30 20% 15%;
    --primary: 30 25% 20%;
    --primary-foreground: 40 30% 95%;
    --secondary: 35 20% 88%;
    --secondary-foreground: 30 20% 15%;
    --muted: 35 15% 85%;
    --muted-foreground: 30 10% 45%;
    --accent: 15 60% 55%;
    --accent-foreground: 40 30% 97%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 35 20% 82%;
    --input: 35 20% 82%;
    --ring: 30 25% 20%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.25rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Noise texture overlay */
.noise-bg {
  position: relative;
}
.noise-bg::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.04;
  z-index: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

/* Torn edge clip paths */
.torn-edge-1 {
  clip-path: polygon(
    2% 0%, 5% 1%, 8% 0%, 12% 1%, 16% 0%, 20% 0.5%, 25% 0%, 30% 1%, 35% 0%, 40% 0.5%, 45% 0%, 50% 1%, 55% 0%, 60% 0.5%, 65% 0%, 70% 1%, 75% 0%, 80% 0.5%, 85% 0%, 90% 1%, 95% 0%, 98% 0.5%, 100% 0%,
    100% 2%, 99% 5%, 100% 10%, 99.5% 15%, 100% 20%, 99% 25%, 100% 30%, 99.5% 35%, 100% 40%, 99% 45%, 100% 50%, 99.5% 55%, 100% 60%, 99% 65%, 100% 70%, 99.5% 75%, 100% 80%, 99% 85%, 100% 90%, 99.5% 95%, 100% 100%,
    98% 100%, 95% 99%, 90% 100%, 85% 99.5%, 80% 100%, 75% 99%, 70% 100%, 65% 99.5%, 60% 100%, 55% 99%, 50% 100%, 45% 99.5%, 40% 100%, 35% 99%, 30% 100%, 25% 99.5%, 20% 100%, 15% 99%, 10% 100%, 5% 99.5%, 0% 100%,
    0% 98%, 1% 95%, 0% 90%, 0.5% 85%, 0% 80%, 1% 75%, 0% 70%, 0.5% 65%, 0% 60%, 1% 55%, 0% 50%, 0.5% 45%, 0% 40%, 1% 35%, 0% 30%, 0.5% 25%, 0% 20%, 1% 15%, 0% 10%, 0.5% 5%, 0% 2%
  );
}

.torn-edge-2 {
  clip-path: polygon(
    0% 1%, 3% 0%, 7% 1.5%, 11% 0%, 15% 0.5%, 19% 0%, 24% 1%, 28% 0%, 33% 0.5%, 38% 0%, 43% 1%, 48% 0%, 53% 0.5%, 58% 0%, 63% 1%, 68% 0%, 73% 0.5%, 78% 0%, 83% 1%, 88% 0%, 93% 0.5%, 97% 0%, 100% 1%,
    99% 4%, 100% 8%, 99.5% 13%, 100% 18%, 99% 23%, 100% 28%, 99.5% 33%, 100% 38%, 99% 43%, 100% 48%, 99.5% 53%, 100% 58%, 99% 63%, 100% 68%, 99.5% 73%, 100% 78%, 99% 83%, 100% 88%, 99.5% 93%, 100% 97%, 100% 100%,
    97% 99%, 93% 100%, 88% 99.5%, 83% 100%, 78% 99%, 73% 100%, 68% 99.5%, 63% 100%, 58% 99%, 53% 100%, 48% 99.5%, 43% 100%, 38% 99%, 33% 100%, 28% 99.5%, 24% 100%, 19% 99%, 15% 100%, 11% 99.5%, 7% 100%, 3% 99%, 0% 100%,
    1% 97%, 0% 93%, 0.5% 88%, 0% 83%, 1% 78%, 0% 73%, 0.5% 68%, 0% 63%, 1% 58%, 0% 53%, 0.5% 48%, 0% 43%, 1% 38%, 0% 33%, 0.5% 28%, 0% 23%, 1% 18%, 0% 13%, 0.5% 8%, 0% 4%
  );
}

/* Masking tape effect */
.tape {
  position: absolute;
  width: 80px;
  height: 24px;
  opacity: 0.55;
  z-index: 10;
}
.tape-top-left {
  top: -8px;
  left: 12px;
  transform: rotate(-8deg);
}
.tape-top-right {
  top: -6px;
  right: 16px;
  transform: rotate(5deg);
}
.tape-bottom-right {
  bottom: -6px;
  right: 20px;
  transform: rotate(-3deg);
}

/* Header rule line */
.header-rule {
  border-top: 2px solid hsl(var(--foreground));
  border-bottom: 1px solid hsl(var(--foreground));
  padding: 2px 0;
}
.header-rule-inner {
  border-top: 1px solid hsl(var(--foreground));
}

/* 1列構成：1行に1記事のみ、心を込めたストーリーとして表示 */
.masonry {
  column-count: 1;
  column-gap: 0;
}
.masonry > * {
  break-inside: avoid;
  margin-bottom: 2.5rem;
}
